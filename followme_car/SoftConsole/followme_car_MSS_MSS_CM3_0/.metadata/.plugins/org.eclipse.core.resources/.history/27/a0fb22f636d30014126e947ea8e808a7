#include <stdbool.h>
#include <inttypes.h>

#define MOTOR_CONTROLLER_ADDR 0x40050000


void move(int leftFwd, int rightFwd) {
	uint32_t *addr = (uint32_t*)MOTOR_CONTROLLER_ADDR;
	uint32_t data = 0;

	data ^= rightFwd;
	data ^= leftFwd << 1;

	data ^= 40 << 2;
	data ^= 40 << 9;

	*addr = data;
}

int main()
{
	int count = 0;
	int fwd = 1;
	while( 1 )
	{
		if (count++ >= 1000) {
			fwd = 0;
			count = 0;
		} else {
			fwd = 1;
		}
		move(fwd, fwd);
	}
}
